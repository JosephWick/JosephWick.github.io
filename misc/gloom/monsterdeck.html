<!DOCTYPE HTML>

<html>
  <head>
    <title>Battle Deck</title>
    <meta charset="utf-8" />
  </head>
  <body onload="javascript:init()">

    <center>
    <h1>Gloomhaven Battle Deck</h1>
    <p>an umodified battle deck</p>
    <br>
    <p id="carddrawn"> card will appear here </p>
    <br>
    <button type="button" onclick="draw()">Draw</button>
    <button type="button" onclick="shuffle()">Shuffle</button>
    <button type="button" onclick="addcrit()">Add Crit</button>
    <button type="button" onclick="init()">Reset Deck</button>

    <script>
      const defaultcards = [0,0,0,0,0,0, 1,1,1,1,1, 2,2,2,2,2, 3, 4, 5, 6];
      let allcards = [];
      let currcards = [];

      function init(){
        allcards = [...defaultcards];
        currcards = [...defaultcards];
      }

      function draw(){
        const cardDisplayTexts = ["+0", "+1", "-1", "+2", "-2", "2x" "miss"]

        // get random card from remaining cards
        let max = currcards.length;
        let i = Math.floor(Math.random() * (max - 0) + 0);

        card = currcards[i];
        currcards.splice(i,1);

        // display card
        const element = document.getElementById("carddrawn")
        element.innerHTML = cardDisplayTexts[card]
      }

      function shuffle(){
        currcards = [...allcards]
      }

      function addcrit(){
        allcards.push(5)
      }

    </script>

  </body>
</html>
