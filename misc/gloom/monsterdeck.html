<!DOCTYPE HTML>

<html>
  <head>
    <title>Battle Deck</title>
    <meta charset="utf-8" />
  </head>
  <body onload = "init()">

    <h1><center>Gloomhaven Battle Deck</center></h1>
    <p><center>an umodified battle deck</center></p>

    <button type="button" onclick="draw()">Draw</button>
    <button type="button" onclick="shuffle()">Shuffle</button>
    <button type="button" onclick="addcrit()">Add Crit</button>
    <button type="button" onclick="init()">Reset Deck</button>

    <script type="text/javascript">
      const defaultcards = [0,0,0,0,0,0, 1,1,1,1,1, 2,2,2,2,2, 3, 4, 5, 6]
      var allcards = []
      var currcards = []

      function init(){
        allcards = [...defaultcards]
        currcards = [..defaultcards]
      }

      function draw(){
        // get random card from remaining cards
        max = currcards.length
        let i = Math.floor(Math.random() * (max - 0) + 0)

        card = currcards[i]
        currcards.splice(i,1)

        // display card
        console.log(card)
      }

      function shuffle(){
        currcards = [...allcards]
      }

      function addcrit(){
        allcards.push(5)
      }

    </script>

  </body>
</html>
